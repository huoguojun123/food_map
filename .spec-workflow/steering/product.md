# Product Overview - GourmetLog (私人美食外脑)

## Product Purpose
**核心理念**："只记位置，不看地图；全靠 AI，决策食物。"

GourmetLog 是一个**个人美食记录和智能推荐系统**，完全摆脱传统地图应用的复杂交互。通过 AI 解析截图和文本，自动提取餐厅信息并转换为地理位置坐标，再基于用户的当前位置和个人历史，通过语义理解和智能推理，提供精准的美食推荐。

解决的核心问题：
- **美食记忆碎片化**：在美团、大众点评、小红书等看到的美食内容难以系统化保存和检索
- **地图操作繁琐**：传统地图应用需要缩放、拖拽、筛选，交互效率低
- **推荐不智能**：现有应用依赖标签和评分筛选，无法理解复杂的个性化需求（如"今天下雨，想吃点热乎的、环境安静的"）
- **决策疲劳**：面对大量选择时，难以快速做出决策

## Target Users

### 主要用户
**个人美食爱好者**（单人使用场景）
- 经常尝试新餐厅，希望通过照片和简单笔记记录美食体验
- 依赖个人历史记忆和 AI 推荐，而非大众评分
- 希望通过自然语言交互获取推荐，而非复杂的筛选操作

### 用户画像
- **使用场景**：在外出就餐前，快速获取基于当前位置和偏好的推荐
- **交互偏好**：问答式交互，非地图浏览式交互
- **数据来源**：APP 截图、分享文本、手动记录
- **决策依据**：个人历史 + AI 理解 + 地理位置

### 用户痛点
- "我记得上周在朋友圈看到过一家很好的日料，但找不到那条动态了"
- "我在公司附近，想找个适合一个人吃饭、安静、性价比高的地方"
- "和朋友约饭，大家口味不同，不知道选哪家"
- 手动录入餐厅信息（地址、电话、菜品）太麻烦

## Key Features

### 1. 极简收录系统（零点击录入）
**截图自动识别**
- 支持上传美团、大众点评、小红书等 APP 的店铺详情页截图
- AI Vision 自动提取：店名、地址文本、评分、人均价格、特色菜
- 智能地理编码：将地址文本转换为经纬度坐标存储

**分享文本解析**
- 直接粘贴从外卖/点评 APP 复制的"分享口令"或链接
- AI 自动清洗杂乱文本，提取有效信息
- 自动调用地图 API 进行地理编码

**AI 自动化总结**
- 对每条记录自动生成 <20 字的个性化短评
- 示例："重油重盐但肉香，藏在巷子里的老店"
- 风格可定制（专业、毒舌、简洁等）

### 2. AI 智能检索与推荐（语义即检索）
**当前位置感知**
- 自动获取用户当前 GPS 坐标
- 支持"公司"、"家"等常用位置快捷设置

**地理范围粗筛**
- 使用 Bounding Box 算法筛选附近（如 10km）的所有餐厅
- 在 D1 数据库中通过 SQL 查询实现，无需向量数据库

**意图驱动推荐**
- 用户输入自然语言："今天下雨，想吃点热乎的、环境安静、适合聊天的"
- AI 结合地理距离、餐厅标签、用户历史评价给出 3-5 家精准建议
- 提供推荐理由，说明为什么选择这些餐厅

**非向量化检索**
- 不使用 Vector DB，直接将筛选出的餐厅 JSON 数据全部喂给 AI
- 利用长上下文窗口，保持逻辑透明和可控

### 3. 自选清单与路线规划
**"购物车"模式**
- 从 AI 推荐结果中勾选心仪餐厅，加入自选清单
- 支持创建多个主题清单（如"周末探店计划"、"聚餐候选"）

**路线优化**
- 针对选中的多家店，AI 自动规划逻辑路线
- 示例：先吃早茶，再去这家喝下午茶

**清单管理**
- 自选清单可以重命名、修改、删除
- 生成极简的卡片视图，便于快速浏览

### 4. 无地图化 UI
**Omnibar（全能输入栏）**
- 页面底部吸附的输入框
- 支持粘贴文字和点击图标上传图片
- 快捷切换"录入模式"和"推荐模式"

**SpotCard（极简卡片）**
- 圆角大（rounded-2xl）、无边框设计
- 包含：图片、店名、AI 浓缩评价、距离提示
- 位置信息以文字形式呈现："距离 800m"或"东北方向"
- 点击位置直接跳转外部地图 APP（高德/Google Maps）

**时间线视图**
- 按时间倒序展示美食记录
- 非地图视图，采用类似社交媒体的信息流设计

## Business Objectives

### 短期目标（1-2 个月）
- 完成核心功能：截图识别、地理编码、AI 推荐
- 验证 AI 提取准确性和推荐质量
- 支持个人使用场景，单用户架构

### 中期目标（3-6 个月）
- 优化 LLM 提示词，提升推荐精准度
- 改进路线规划算法
- 增加数据导出功能（Markdown、JSON）

### 长期目标（6-12 个月）
- 探索多模态输入（语音、视频）
- 个性化推荐模型（基于用户历史微调）
- 考虑开源发布，分享给有相似需求的用户

## Success Metrics

### 产品指标
- **摄取成功率**：AI 提取准确率 >90%（关键信息：店名、地址）
- **地理编码成功率**：>95%
- **推荐满意度**：用户采纳率 >60%（推荐结果中的餐厅被访问/收藏）
- **输入效率**：从截图到保存 <10 秒

### 技术指标
- **响应速度**：AI 提取 <5 秒，推荐 <3 秒
- **地理查询性能**：10km 范围查询 <500ms
- **系统稳定性**：本地部署下 99% 可用性

### 用户体验
- **零学习成本**：首次使用无需教程， intuitive interaction
- **移动端友好**：所有操作可单手完成
- **离线容错**：无 AI API Key 时，基础功能仍可用

## Product Principles

### 1. **AI First，人类最后**
- AI 处理一切繁琐的数据提取、清洗、匹配工作
- 用户只需做最后的确认和个性化调整
- AI 失败时，提供手动输入作为降级方案

### 2. **无地图化思维**
- 不使用传统地图 UI（标记、缩放、拖拽、瓦片）
- 用"时间线 + 智能推荐"替代"地图 + 搜索列表"
- 地理位置仅用于距离计算，不用于可视化
- 位置信息以文字和外部地图跳转呈现

### 3. **语义交互优先**
- 支持自然语言查询，非结构化筛选
- 用户说"找家适合约会的日料"，而非勾选"日式 + 情侣 + 安静"
- AI 理解上下文和隐含需求

### 4. **极简主义**
- UI 尽量减少视觉噪音
- 只展示核心信息（图片、名称、AI 摘要、距离）
- 复杂功能隐藏在二级页面或通过对话框触发

### 5. **隐私与控制**
- 所有数据存储在用户私人空间（个人数据库）
- 用户自主配置 AI API Key 和模型选择
- 不强制社交分享，完全个人使用

### 6. **非向量化检索**
- 项目初期不使用 Vector DB
- 坚持全量投喂策略（Bounding Box 预筛选 + LLM 推理）
- 保持逻辑透明和可控

## Monitoring & Visibility

### 当前阶段（个人使用）
- **监控方式**：本地日志 + 手动观察
- **关键指标**：AI 提取准确率、推荐实用性
- **错误追踪**：控制台日志 + Edge Function 日志

### 未来规划（如需优化）
- **行为分析**：记录常用查询模式，优化提示词
- **推荐效果追踪**：记录采纳和反馈，迭代推荐算法
- **性能监控**：集成 Sentry 或 Vercel Analytics

## Future Vision

### Phase 2: 交互优化（3-6 个月后）
- **语音输入**：支持语音查询和语音播报推荐结果
- **多模态输入**：支持视频分析（如短视频美食探店）
- **智能提醒**：基于时间和位置推荐"附近你收藏但没去过的店"

### Phase 3: 智能升级（6-12 个月后）
- **个性化模型**：基于用户历史记录微调推荐策略
- **跨平台同步**：支持浏览器扩展、移动 App、桌面端
- **数据导出**：支持生成美食地图 PDF、Markdown 博客

### Phase 4: 开源与分享（长期）
- **开源发布**：将项目开源，分享给有相似需求的用户
- **社区贡献**：支持自定义 AI 提示词、推荐策略插件
- **多语言支持**：国际化，支持多地区地图 API

## Redlines（硬性约束）

### 必须遵守
1. **无地图 UI**：应用内不渲染地图瓦片，不使用地图组件
2. **地理编码必需**：所有录入必须转换为经纬度，否则推荐功能失效
3. **非向量化**：初期不使用 Vector DB，坚持 Bounding Box + 全量投喂
4. **一键部署**：支持 Vercel 一键部署，配置流程不超过 3 步
5. **离线容错**：无 AI API Key 时，基础记录显示功能可用

### 技术债务红线
- 不引入复杂的向量数据库或 GIS 插件
- 不使用重量级 ORM（优先 Drizzle 或原生 SQL）
- 不过度工程化（保持简洁，专注核心功能）
